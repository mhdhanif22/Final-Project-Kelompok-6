(()=>{var e={537:(e,t,a)=>{var n=a(252).Router(),r=[{id:1,title:"Exhuma"},{id:2,title:"Kimi no Nawa"},{id:3,title:"Haikyuu!"}],i=["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],o=[{id:1,time:"11.00 - 13.15"},{id:2,time:"13.30 - 15.45"},{id:3,time:"16.00 - 18.15"}],s=[{id:1,name:"Audi 1"},{id:2,name:"Audi 2"},{id:3,name:"Audi 3"}],u=[{id:1,type:"Reguler"},{id:2,type:"Sweetbox"}];n.get("/films",(function(e,t){t.json(r)})),n.get("/auditorium",(function(e,t){t.json(s)})),n.get("/days",(function(e,t){t.json(i)})),n.get("/times",(function(e,t){t.json(o)})),n.get("/seat-type",(function(e,t){t.json(u)})),n.get("/",(function(e,t){t.send("Selamat Datang di CGV Plaza Shibuya")})),n.post("/book",(function(e,t){var a=parseInt(e.body.filmId),n=parseInt(e.body.dayIndex),l=parseInt(e.body.timeId),c=parseInt(e.body.audiId),d=parseInt(e.body.seatTypesId);if(a<1||a>r.length||n<0||n>i.length||l>1||l>o.length||c<1||c>10||d<1||d>u.length)return t.status(400).json({message:"Input tidak valid! "});var m=r.find((function(e){return e.id===a})),p=i[n],f=o.find((function(e){return e.id===l})),g=s.find((function(e){return e.id===c})),b=u.find((function(e){return e.id===d}));if(!(m&&p&&f&&g&&u))return t.status(400).json({message:"Data tidak valid!"});var y={film:m.title,hari:p,waktu:f.time,kursi:b.type};t.json({message:"Tiket berhasil dipesan!",tiket:y})})),e.exports=n},106:e=>{e.exports={calculateEmergencyFund:function(e,t,a,n,r,i){var o=e*t*1.5,s=o-a;s<0&&(s=0);for(var u=0,l=a,c=r/100/12,d=n;l<o&&u<i;)l+=d,l*=1+c,u++;var m,p,f,g=l>=o,b=function(e,t,a,n){for(var r=e,i=a/100/12,o=0;o<n;o++)r+=t,r*=1+i;return r}(a,d,r,u),y=b;return m=o<5e7?["Deposito","Emas","Reksadana Pasar Uang"]:o<1e8?["Deposito","Emas","Reksadana Pasar Uang","Reksadana Pendapatan Tetap Tertentu"]:["Deposito","Emas","Reksadana Pasar Uang","Reksadana Pendapatan Tetap Tertentu","Saham","Obligasi"],p=o<5e7?{savings:60,investment:40}:o<1e8?{savings:55,investment:45}:{savings:50,investment:50},f=g?"Selamat! Anda telah mencapai target dana darurat sebesar Rp ".concat(o.toLocaleString("id-ID"),". Anda dapat mempertimbangkan investasi pada opsi berikut: ").concat(m.join(", "),". Total investasi yang berhasil terkumpul adalah Rp ").concat(y.toLocaleString("id-ID"),"."):"Maaf, Anda belum bisa mencapai target dana darurat sebesar Rp ".concat(o.toLocaleString("id-ID")," dalam waktu ").concat(i," bulan. Dibutuhkan sekitar ").concat(u," bulan untuk mencapai target. Total investasi yang berhasil terkumpul adalah Rp ").concat(y.toLocaleString("id-ID"),"."),{totalEmergencyFund:o,remainingEmergencyFund:g?void 0:s,periodsNeeded:g?void 0:u,achievedTarget:g,investmentResult:b,totalInvestment:y,investmentRecommendation:{allocation:p,investmentOptions:m},message:f}}}},791:e=>{e.exports={calculateInvestment:function(e,t,a,n,r,i,o){for(var s=o/100,u=Math.pow(1+s,1/12)-1,l=a,c=0,d="SetiapBulan"===n?12*t:t;c<d&&((p=r).startsWith("Awal")&&(l+=i),m=l,l="SetiapBulan"===n?m*(1+u):m*(1+s),p.startsWith("Akhir")&&(l+=i),c++,!(l>=e)););var m,p;return{achievedTarget:l>=e,finalAmount:Math.round(l),periodsNeeded:c,periodType:"SetiapBulan"===n?"bulan":"tahun"}}}},19:e=>{var t=function(e){var t=e.buyPrice,n=e.sellPrice,r=e.lot,i=t*r*100,o=a(i,.0015),s=n*r*100,u=a(s,.0025),l=i+o,c=s-u,d=c-l;return{buyAmount:i,buyFee:o,sellAmount:s,sellFee:u,netBuyAmount:l,netSellAmount:c,realized:d,percentRealized:(d/l*100).toFixed(2)}},a=function(e,t){return e*t},n={validation:function(e){var t=e.codeStock,a=e.buyPrice,n=e.sellPrice,r=e.lot;return t&&a&&n&&r?(a=parseInt(a),n=parseInt(n),isNaN(a)||isNaN(n)||isNaN(r)?{isValid:!1,message:"buy price, sell price, and lot must be number"}:a<=0||n<=0||r<=0?{isValid:!1,message:"buy price, sell price, and lot must be greater than 0"}:{isValid:!0,message:"is valid"}):{isValid:!1,message:"code stock, buy price, sell price, and lot are required"}},countTransaction:t,response:function(e){var a=t(e),n=a.realized>0?"Gain":"Loss",r={buyAmount:a.buyAmount,totalFee:a.buyFee,netAmount:a.netBuyAmount},i={sellAmount:a.sellAmount,totalFee:a.sellFee,netAmount:a.netSellAmount};return{stock:e.codeStock,lot:e.lot,buyPrice:e.buyPrice,netBuyAmount:r,sellPrice:e.sellPrice,netSellAmount:i,status:n,realized:a.realized,percentRealized:"".concat(a.percentRealized,"%")}}};e.exports=n},137:(e,t,a)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=a(252).Router(),u=a(896),l=a(928),c=a(791).calculateInvestment,d=a(106).calculateEmergencyFund,m=a(537),p=a(19),f=function(e,t,a){e.status(t).json({error:a})};s.use("/bioskop",m),s.get("/",(function(e,t){u.readFile(l.join(__dirname,"data","dataKelompok.json"),(function(e,a){if(e)return f(t,500,"Error reading file");var n=JSON.parse(a),r=n.nama,i=n.anggota;t.render("index",{groupName:r,members:i})}))})),s.get("/calculate",(function(e,t){u.readFile(l.join(__dirname,"data","calculatorlist.json"),(function(e,a){if(e)return f(t,500,"Error reading file");var n;try{n=JSON.parse(a)}catch(e){return f(t,500,"Error parsing JSON data")}t.json(n)}))})),s.post("/calculate/investment",(function(e,t){var a=e.body,n=a.targetAmount,r=a.years,o=a.currentAmount,s=a.savingsFrequency,u=a.savingsTiming,l=a.savingsAmount,d=a.annualReturn;if(void 0===n||void 0===r||void 0===o||!s||!u||void 0===l||void 0===d)return t.status(400).json({error:"Semua field harus diisi"});if("number"!=typeof n||"number"!=typeof r||"number"!=typeof o||"number"!=typeof l||"number"!=typeof d)return t.status(400).json({error:"Input numerik harus berupa angka"});if(r<=0||d<0||n<=0||l<0)return t.status(400).json({error:"Nilai input tidak valid"});if("SetiapBulan"!==s&&"SetiapTahun"!==s)return t.status(400).json({error:'Frekuensi menabung harus "SetiapBulan" atau "SetiapTahun"'});if("SetiapBulan"===s&&"AwalBulan"!==u&&"AkhirBulan"!==u||"SetiapTahun"===s&&"AwalTahun"!==u&&"AkhirTahun"!==u)return t.status(400).json({error:"Waktu menabung tidak sesuai dengan frekuensi menabung"});var m,p=c(n,r,o,s,u,l,d);m=p.achievedTarget?"Selamat! Strategi investasi Anda berhasil mencapai target dalam ".concat(p.periodsNeeded," ").concat(p.periodType,"."):"Strateginya belum cocok untuk mencapai mimpi kamu ðŸ˜ž. Anda hanya mencapai Rp".concat(p.finalAmount.toLocaleString()," dalam ").concat(r," tahun."),t.json(i(i({},p),{},{message:m}))})),s.post("/calculate/emergencyfund",(function(e,t){var a=e.body,n=a.monthlyExpenses,r=a.emergencyFundMonths,i=a.currentSavings,o=a.monthlySavings,s=a.returnOnInvestment,u=a.targetMonthsToSave;if(void 0===n||void 0===r||void 0===i||void 0===o||void 0===s||void 0===u)return t.status(400).json({error:"Semua field harus diisi"});if("number"!=typeof n||"number"!=typeof r||"number"!=typeof i||"number"!=typeof o||"number"!=typeof s||"number"!=typeof u)return t.status(400).json({error:"Input numerik harus berupa angka"});if(r<=0||s<0||n<=0||o<0||u<=0)return t.status(400).json({error:"Nilai input tidak valid"});var l=d(n,r,i,o,s,u);t.json(l)})),s.post("/profit-loss",(function(e,t){var a=e.body,n=p.validation(a);if(!n.isValid)return t.status(400).json({status:"failed",message:n.message});var r=p.response(a);return t.json({status:"success",data:r})}));var g={nominal:[2e4,5e4,1e5,2e5,5e5,1e6,5e6],toko:[{nama:"gopay",biayaAdmin:3e3},{nama:"grab-merchant",biayaAdmin:300},{nama:"jakone-mobile",biayaAdmin:3e3},{nama:"ovo",biayaAdmin:2500},{nama:"shopeepay",biayaAdmin:2750}]};s.get("/tagihan-listrik-prabayar",(function(e,t){var a=e.query,n=a.nominal,r=a.toko;if(!n||!r)return t.json({message:"Selamat datang di cek tagihan listrik prabayar ^_^",nominal:g.nominal,toko:g.toko.map((function(e){return{nama:e.nama}}))});var i=parseInt(n),o=g.nominal.find((function(e){return e===i})),s=g.toko.find((function(e){return e.nama===r}));if(!o)return t.status(400).json({message:"Nominal tersebut tidak tercantum pada katalog. Silahkan ketikkan lagi."});if(!s)return t.status(400).json({message:"Toko yang diinputkan tidak sesuai. Silahkan ketikkan ulang."});var u=o+s.biayaAdmin;return t.json({nominal:o,toko:s.nama,totalTagihan:u})})),e.exports=s},252:e=>{"use strict";e.exports=require("express")},896:e=>{"use strict";e.exports=require("fs")},67:e=>{"use strict";e.exports=require("node:http")},928:e=>{"use strict";e.exports=require("path")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}var n=a(252),r=a(928),i=a(67),o=n(),s=a(137);o.set("view engine","ejs"),o.set("views",r.join(__dirname,"views")),o.use(n.json()),o.use(n.urlencoded({extended:!1})),o.use("/",s),o.use("/static",n.static(r.join(__dirname,"public"))),i.createServer(o).listen(3e3,"localhost",(function(){console.log("Listening on localhost:3000")}))})();